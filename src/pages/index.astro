---
import BaseLayout from "../layouts/BaseLayout.astro"
import Section from "../components/Section.astro";
import Cards from "../components/Cards.astro";
import NewFeature from "../components/NewFeature.astro"
import { getApodData } from "../scripts/PictureOfTheDay.js"	

const pageTitle = "Arrecife"
const apodData = await getApodData()
---
<BaseLayout pageTitle={pageTitle}>
	<h1 class="
		text-4xl sm:text-7xl text-center 
		font-splineSans-bold font-bold
		my-10
		">
			Herramientas a<br>
			un clic <span class="text-purple-300">(o varios)</span>
  </h1>
	<div>
		<Section sectionTitle="Explora nuestras categorías" mx="mr-0">
			<Cards />
		</Section>
		<NewFeature />
		<Section sectionTitle="La foto del día">
			<div>
				<a href={apodData.hdurl} target="_blank" class="relative">
					<img src={apodData.url} alt="Mírate! Tú eres la foto del día" class="
						w-full sm:h-screen object-cover
						rounded-[38px] shadow-lg shadow-indigo-950
					">
					<div class="
						w-80 
						hidden sm:block z-30 
						overflow-hidden truncate
						relative bottom-14"
						>
							<a
								lang="en" 
								href="./space/picture-of-the-day/" 
								class="inline-block text-gray-300 text-sm ml-6 p-2 rounded-lg bg-cold-500/50" 
								>
								{apodData.explanation}
							</a>
					</div>
				</a>
				<div class="flex justify-end mr-6">
					<a 
						lang="en" 
						href="./space/picture-of-the-day/" 
						class="text-lg underline hover:text-cold-400 hover:duration-300"
						>
							{apodData.title}
					</a>
				</div>
			</div>
			
		</Section>
	</div>
</BaseLayout>
